import{S as je,i as He,s as Me,F as Y,k as T,a as V,l as B,m as I,c as K,h as g,n as b,I as S,H as x,b as q,L,ag as $,U as H,ah as Se,f as E,g as z,d as G,t as A,J as Le,K as _e,a3 as w,D as ee,a4 as Ce,G as Pe,w as de,x as be,y as ge,z as me,a6 as Ue,aj as Ve,e as C,ak as Ke,B as W,M as Re,al as ze,Z as R}from"./index-3764ed31.js";import{I as Ge}from"./IconButton-d34479f6.js";import{C as Fe}from"./Chip-bf3b7ffc.js";/* empty css                                              */function Je(n,e,l){return n.filter(t=>pe(t.label,l)>=0&&!e.some(r=>r.index===t.index))}function Ze(n,e,l){var t;return pe((t=n[l])==null?void 0:t.label,e)===0?n[l].label:""}function pe(n,e){const l=new RegExp(e,"i");return n==null?void 0:n.search(l)}function Qe(n,e){const l=new RegExp(e,"i");return n==null?void 0:n.match(l).join("")}function X(n,e){const l=Qe(n,e);return n.replace(l,`<mark>${l}</mark>`)}function le(n,e,l){return{index:l>=0?l:e.length,value:n,label:`${n||""}`}}function We(n){return n!=null&&n.some(e=>!(e!=null&&e.hasOwnProperty("index")))?n.map((e,l)=>({...e,index:l})):n}function te(n){return!n||!n.length?(console.warn("Autocomplete haven't items"),[]):n.reduce((e,l)=>{var t;return e[l.group]=e[l.group]||[],(t=e[l.group])==null||t.push(l),e},{})}function ne(n,e,l){const t=n.slice();return t[34]=e[l][0],t[35]=e[l][1],t[37]=l,t}function re(n,e,l){const t=n.slice();return t[38]=e[l],t[37]=l,t}function oe(n,e,l){const t=n.slice();return t[40]=e[l],t[37]=l,t}function Xe(n){let e,l=n[40].label+"",t;return{c(){e=new Ve(!1),t=C(),this.h()},l(r){e=Ke(r,!1),t=C(),this.h()},h(){e.a=t},m(r,o){e.m(l,r,o),q(r,t,o)},p(r,o){o[0]&4&&l!==(l=r[40].label+"")&&e.p(l)},d(r){r&&g(t),r&&e.d()}}}function se(n){let e,l;function t(){return n[20](n[37])}return e=new Fe({props:{style:n[40].style||"",closable:!0,color:n[40].type||"",$$slots:{default:[Xe]},$$scope:{ctx:n}}}),e.$on("close",t),{c(){de(e.$$.fragment)},l(r){be(e.$$.fragment,r)},m(r,o){ge(e,r,o),l=!0},p(r,o){n=r;const s={};o[0]&4&&(s.style=n[40].style||""),o[0]&4&&(s.color=n[40].type||""),o[0]&4|o[1]&2048&&(s.$$scope={dirty:o,ctx:n}),e.$set(s)},i(r){l||(E(e.$$.fragment,r),l=!0)},o(r){A(e.$$.fragment,r),l=!1},d(r){me(e,r)}}}function Ye(n){let e,l,t;return{c(){e=T("button"),this.h()},l(r){e=B(r,"BUTTON",{class:!0,"aria-label":!0}),I(e).forEach(g),this.h()},h(){b(e,"class","btn btn-clear mr--1 svelte-1evb6kq"),b(e,"aria-label","Close")},m(r,o){q(r,e,o),l||(t=H(e,"click",n[14]),l=!0)},p:W,d(r){r&&g(e),l=!1,t()}}}function we(n){let e;return{c(){e=T("i"),this.h()},l(l){e=B(l,"I",{class:!0}),I(e).forEach(g),this.h()},h(){b(e,"class","form-icon loading svelte-1evb6kq")},m(l,t){q(l,e,t)},p:W,d(l){l&&g(e)}}}function ae(n){let e,l,t,r;const o=[$e,xe],s=[];function h(f,a){return f[1].length?1:0}return l=h(n),t=s[l]=o[l](n),{c(){e=T("dl"),t.c(),this.h()},l(f){e=B(f,"DL",{class:!0,tabindex:!0});var a=I(e);t.l(a),a.forEach(g),this.h()},h(){b(e,"class","menu svelte-1evb6kq"),b(e,"tabindex","0")},m(f,a){q(f,e,a),s[l].m(e,null),r=!0},p(f,a){let u=l;l=h(f),l===u?s[l].p(f,a):(z(),A(s[u],1,1,()=>{s[u]=null}),G(),t=s[l],t?t.p(f,a):(t=s[l]=o[l](f),t.c()),E(t,1),t.m(e,null))},i(f){r||(E(t),r=!0)},o(f){A(t),r=!1},d(f){f&&g(e),s[l].d()}}}function xe(n){let e,l,t=Object.entries(te(n[1])),r=[];for(let s=0;s<t.length;s+=1)r[s]=ie(ne(n,t,s));const o=s=>A(r[s],1,1,()=>{r[s]=null});return{c(){for(let s=0;s<r.length;s+=1)r[s].c();e=C()},l(s){for(let h=0;h<r.length;h+=1)r[h].l(s);e=C()},m(s,h){for(let f=0;f<r.length;f+=1)r[f].m(s,h);q(s,e,h),l=!0},p(s,h){if(h[0]&41995){t=Object.entries(te(s[1]));let f;for(f=0;f<t.length;f+=1){const a=ne(s,t,f);r[f]?(r[f].p(a,h),E(r[f],1)):(r[f]=ie(a),r[f].c(),E(r[f],1),r[f].m(e.parentNode,e))}for(z(),f=t.length;f<r.length;f+=1)o(f);G()}},i(s){if(!l){for(let h=0;h<t.length;h+=1)E(r[h]);l=!0}},o(s){r=r.filter(Boolean);for(let h=0;h<r.length;h+=1)A(r[h]);l=!1},d(s){_e(r,s),s&&g(e)}}}function $e(n){let e;function l(o,s){return o[6]&&o[0].length?ll:el}let t=l(n),r=t(n);return{c(){r.c(),e=C()},l(o){r.l(o),e=C()},m(o,s){r.m(o,s),q(o,e,s)},p(o,s){t===(t=l(o))&&r?r.p(o,s):(r.d(1),r=t(o),r&&(r.c(),r.m(e.parentNode,e)))},i:W,o:W,d(o){r.d(o),o&&g(e)}}}function ce(n){let e,l;return{c(){e=T("dt"),this.h()},l(t){e=B(t,"DT",{class:!0,"data-content":!0}),I(e).forEach(g),this.h()},h(){b(e,"class","divider svelte-1evb6kq"),b(e,"data-content",l=n[34]||"")},m(t,r){q(t,e,r)},p(t,r){r[0]&2&&l!==(l=t[34]||"")&&b(e,"data-content",l)},d(t){t&&g(e)}}}function fe(n){let e,l,t;function r(){return n[29](n[38])}return l=new Ge({props:{icon:"delete",size:"sm"}}),l.$on("click",r),{c(){e=T("div"),de(l.$$.fragment),this.h()},l(o){e=B(o,"DIV",{class:!0});var s=I(e);be(l.$$.fragment,s),s.forEach(g),this.h()},h(){b(e,"class","menu-badge svelte-1evb6kq")},m(o,s){q(o,e,s),ge(l,e,null),t=!0},p(o,s){n=o},i(o){t||(E(l.$$.fragment,o),t=!0)},o(o){A(l.$$.fragment,o),t=!1},d(o){o&&g(e),me(l)}}}function ue(n,e){let l,t,r=X(e[38].label,e[0])+"",o,s=e[3].indexOf(e[38])>=0,h,f,a,u;function v(){return e[26](e[38])}function P(){return e[27](e[38])}function j(){return e[28](e[38])}let _=s&&fe(e);return{key:n,first:null,c(){l=T("dd"),t=T("a"),o=V(),_&&_.c(),h=V(),this.h()},l(O){l=B(O,"DD",{class:!0,tabindex:!0});var y=I(l);t=B(y,"A",{href:!0,class:!0});var p=I(t);p.forEach(g),o=K(y),_&&_.l(y),h=K(y),y.forEach(g),this.h()},h(){b(t,"href","#_"),b(t,"class","svelte-1evb6kq"),S(t,"active",e[10]===e[1].indexOf(e[38])),b(l,"class","menu-item svelte-1evb6kq"),b(l,"tabindex","0"),this.first=l},m(O,y){q(O,l,y),L(l,t),t.innerHTML=r,L(l,o),_&&_.m(l,null),L(l,h),f=!0,a||(u=[H(t,"click",R(v)),H(t,"mouseover",R(P)),H(t,"focus",R(j))],a=!0)},p(O,y){e=O,(!f||y[0]&3)&&r!==(r=X(e[38].label,e[0])+"")&&(t.innerHTML=r),(!f||y[0]&1026)&&S(t,"active",e[10]===e[1].indexOf(e[38])),y[0]&10&&(s=e[3].indexOf(e[38])>=0),s?_?(_.p(e,y),y[0]&10&&E(_,1)):(_=fe(e),_.c(),E(_,1),_.m(l,h)):_&&(z(),A(_,1,1,()=>{_=null}),G())},i(O){f||(E(_),f=!0)},o(O){A(_),f=!1},d(O){O&&g(l),_&&_.d(),a=!1,w(u)}}}function ie(n){let e,l=[],t=new Map,r,o,s=n[34]&&n[34]!=="undefined"&&n[35].length&&ce(n),h=n[35].filter(he);const f=a=>a[38].index;for(let a=0;a<h.length;a+=1){let u=re(n,h,a),v=f(u);t.set(v,l[a]=ue(v,u))}return{c(){s&&s.c(),e=C();for(let a=0;a<l.length;a+=1)l[a].c();r=C()},l(a){s&&s.l(a),e=C();for(let u=0;u<l.length;u+=1)l[u].l(a);r=C()},m(a,u){s&&s.m(a,u),q(a,e,u);for(let v=0;v<l.length;v+=1)l[v].m(a,u);q(a,r,u),o=!0},p(a,u){a[34]&&a[34]!=="undefined"&&a[35].length?s?s.p(a,u):(s=ce(a),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null),u[0]&41995&&(h=a[35].filter(he),z(),l=Re(l,u,f,1,a,h,t,r.parentNode,ze,ue,r,re),G())},i(a){if(!o){for(let u=0;u<h.length;u+=1)E(l[u]);o=!0}},o(a){for(let u=0;u<l.length;u+=1)A(l[u]);o=!1},d(a){s&&s.d(a),a&&g(e);for(let u=0;u<l.length;u+=1)l[u].d(a);a&&g(r)}}}function el(n){let e,l;return{c(){e=T("dt"),this.h()},l(t){e=B(t,"DT",{class:!0,"data-content":!0}),I(e).forEach(g),this.h()},h(){b(e,"class","divider svelte-1evb6kq"),b(e,"data-content",l=n[4]||"Nothing found")},m(t,r){q(t,e,r)},p(t,r){r[0]&16&&l!==(l=t[4]||"Nothing found")&&b(e,"data-content",l)},d(t){t&&g(e)}}}function ll(n){let e,l,t,r=X(n[0],n[0])+"",o,s;return{c(){e=T("dt"),l=T("dd"),t=T("a"),this.h()},l(h){e=B(h,"DT",{class:!0,"data-content":!0}),I(e).forEach(g),l=B(h,"DD",{class:!0});var f=I(l);t=B(f,"A",{href:!0,class:!0});var a=I(t);a.forEach(g),f.forEach(g),this.h()},h(){b(e,"class","divider svelte-1evb6kq"),b(e,"data-content","Add:"),b(t,"href","#_"),b(t,"class","svelte-1evb6kq"),S(t,"active",n[0].length),b(l,"class","menu-item svelte-1evb6kq")},m(h,f){q(h,e,f),q(h,l,f),L(l,t),t.innerHTML=r,o||(s=[H(t,"click",R(n[23])),H(t,"mouseover",R(n[24])),H(t,"focus",R(n[25]))],o=!0)},p(h,f){f[0]&1&&r!==(r=X(h[0],h[0])+"")&&(t.innerHTML=r),f[0]&1&&S(t,"active",h[0].length)},d(h){h&&g(e),h&&g(l),o=!1,w(s)}}}function tl(n){let e,l,t,r,o,s,h,f,a,u,v,P,j=n[2],_=[];for(let i=0;i<j.length;i+=1)_[i]=se(oe(n,j,i));const O=i=>A(_[i],1,1,()=>{_[i]=null});function y(i,d){if(i[0].length)return we;if(i[2].length)return Ye}let p=y(n),D=p&&p(n),k=n[9]&&(!n[7]||n[0].length)&&ae(n),F=[n[16],{class:"form-autocomplete"}],U={};for(let i=0;i<F.length;i+=1)U=Y(U,F[i]);return{c(){e=T("div"),l=T("div");for(let i=0;i<_.length;i+=1)_[i].c();t=V(),r=T("div"),o=T("input"),s=V(),D&&D.c(),f=V(),k&&k.c(),a=V(),this.h()},l(i){e=B(i,"DIV",{class:!0});var d=I(e);l=B(d,"DIV",{class:!0});var m=I(l);for(let J=0;J<_.length;J+=1)_[J].l(m);t=K(m),r=B(m,"DIV",{class:!0,"data-active":!0});var M=I(r);o=B(M,"INPUT",{class:!0,type:!0,tabindex:!0,placeholder:!0}),s=K(M),D&&D.l(M),M.forEach(g),m.forEach(g),f=K(d),k&&k.l(d),d.forEach(g),a=K(i),this.h()},h(){b(o,"class","form-input svelte-1evb6kq"),b(o,"type","text"),b(o,"tabindex","0"),b(o,"placeholder",n[5]),o.autofocus=n[8],b(r,"class","form-input-icon-wrap svelte-1evb6kq"),b(r,"data-active",h=n[0].length?n[11]:""),S(r,"has-icon-right",n[0].length||n[2].length),b(l,"class","form-autocomplete-input form-input svelte-1evb6kq"),S(l,"is-focused",n[9]),x(e,U),S(e,"svelte-1evb6kq",!0)},m(i,d){q(i,e,d),L(e,l);for(let m=0;m<_.length;m+=1)_[m].m(l,null);L(l,t),L(l,r),L(r,o),$(o,n[0]),L(r,s),D&&D.m(r,null),L(e,f),k&&k.m(e,null),q(i,a,d),u=!0,n[8]&&o.focus(),v||(P=[H(o,"input",n[21]),H(o,"focus",n[22]),H(o,"keydown",n[12]),H(o,"click",Se(n[19])),H(document.body,"click",n[30])],v=!0)},p(i,d){if(d[0]&16388){j=i[2];let m;for(m=0;m<j.length;m+=1){const M=oe(i,j,m);_[m]?(_[m].p(M,d),E(_[m],1)):(_[m]=se(M),_[m].c(),E(_[m],1),_[m].m(l,t))}for(z(),m=j.length;m<_.length;m+=1)O(m);G()}(!u||d[0]&32)&&b(o,"placeholder",i[5]),(!u||d[0]&256)&&(o.autofocus=i[8]),d[0]&1&&o.value!==i[0]&&$(o,i[0]),p===(p=y(i))&&D?D.p(i,d):(D&&D.d(1),D=p&&p(i),D&&(D.c(),D.m(r,null))),(!u||d[0]&2049&&h!==(h=i[0].length?i[11]:""))&&b(r,"data-active",h),(!u||d[0]&5)&&S(r,"has-icon-right",i[0].length||i[2].length),(!u||d[0]&512)&&S(l,"is-focused",i[9]),i[9]&&(!i[7]||i[0].length)?k?(k.p(i,d),d[0]&641&&E(k,1)):(k=ae(i),k.c(),E(k,1),k.m(e,null)):k&&(z(),A(k,1,1,()=>{k=null}),G()),x(e,U=Le(F,[d[0]&65536&&i[16],{class:"form-autocomplete"}])),S(e,"svelte-1evb6kq",!0)},i(i){if(!u){for(let d=0;d<j.length;d+=1)E(_[d]);E(k),u=!0}},o(i){_=_.filter(Boolean);for(let d=0;d<_.length;d+=1)A(_[d]);A(k),u=!1},d(i){i&&g(e),_e(_,i),D&&D.d(),k&&k.d(),i&&g(a),v=!1,w(P)}}}const he=n=>n.label;function nl(n,e,l){const t=["value","empty","placeholder","predefined","suggested","selected","created","creatable","predictable","autofocus","groupBy"];let r=ee(e,t),{value:o=""}=e,{empty:s=""}=e,{placeholder:h="type here"}=e,{predefined:f=[]}=e,{suggested:a=[]}=e,{selected:u=[]}=e,{created:v=[]}=e,{creatable:P=!1}=e,{predictable:j=!1}=e,{autofocus:_}=e,{groupBy:O=()=>""}=e,y=!1,p=0,D="";const k=Ce();function F(c){return c.some(N=>typeof N=="string")?U(c):We(c)}function U(c){return c.reduce((N=[],Z,Ae)=>{const Q=Z?le(Z,c,Ae):null;if(Q)return Q.group=O(Q)||"",N.push(Q),N},[])}function i(c){switch(c.key){case"Backspace":o||(c.metaKey||c.ctrlKey?l(2,u=[]):m(u.length-1));break;case"Tab":case"Enter":c.preventDefault(),(a.length||o&&P)&&d(a[p]||o);break;case"ArrowRight":c.preventDefault(),a.length&&d(a[p]);break;case"ArrowDown":c.preventDefault(),p<a.length-1?l(10,p++,p):l(10,p=0);break;case"ArrowUp":c.preventDefault(),p>0?l(10,p--,p):l(10,p=a.length-1);break;case"Escape":c.preventDefault(),l(0,o=""),l(10,p=0),l(9,y=!1),c.target.blur();break}}function d(c){c=typeof c=="string"?le(c,f):c,l(2,u=[...u,c]),l(3,v=v.indexOf(c)===-1&&a.indexOf(c)===-1?[...v,c]:v),l(17,f=v.some(N=>f.indexOf(N)===-1)?[...f,c]:f),l(1,a=[]),l(10,p=0),l(0,o=""),k("select",c)}function m(c){l(2,u=isNaN(c)?[]:u.filter((N,Z)=>Z!==c)),k("remove",c?u[c]:u)}function M(c){l(17,f=f.filter(N=>N.index!==c)),l(1,a=a.filter(N=>N.index!==c)),l(3,v=v.filter(N=>N.index!==c))}function J(c){Ue.call(this,n,c)}const ke=c=>m(c);function ve(){o=this.value,l(0,o)}const ye=()=>l(9,y=!0),De=()=>d(o),Ee=()=>l(10,p=0),qe=()=>l(10,p=0),Oe=c=>d(c),Te=c=>l(10,p=a.indexOf(c)),Be=c=>l(10,p=a.indexOf(c)),Ie=c=>M(c.index),Ne=()=>l(9,y=!1);return n.$$set=c=>{e=Y(Y({},e),Pe(c)),l(16,r=ee(e,t)),"value"in c&&l(0,o=c.value),"empty"in c&&l(4,s=c.empty),"placeholder"in c&&l(5,h=c.placeholder),"predefined"in c&&l(17,f=c.predefined),"suggested"in c&&l(1,a=c.suggested),"selected"in c&&l(2,u=c.selected),"created"in c&&l(3,v=c.created),"creatable"in c&&l(6,P=c.creatable),"predictable"in c&&l(7,j=c.predictable),"autofocus"in c&&l(8,_=c.autofocus),"groupBy"in c&&l(18,O=c.groupBy)},n.$$.update=()=>{n.$$.dirty[0]&132615&&y&&(l(17,f=F(f)),l(1,a=Je(f,u,o)),l(11,D=Ze(a,o,p)))},[o,a,u,v,s,h,P,j,_,y,p,D,i,d,m,M,r,f,O,J,ke,ve,ye,De,Ee,qe,Oe,Te,Be,Ie,Ne]}class cl extends je{constructor(e){super(),He(this,e,nl,tl,Me,{value:0,empty:4,placeholder:5,predefined:17,suggested:1,selected:2,created:3,creatable:6,predictable:7,autofocus:8,groupBy:18},null,[-1,-1])}}export{cl as A};
